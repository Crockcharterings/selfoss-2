<html><head><title>如何看待文艺复兴科技（Renaissance Technologies）利用原子钟打击高频交易？</title></head><body><style type='text/css'>img{display:block;margin:0 auto;}p{font-size: 28px;}</style>





<p>
说实话仔细看了一下,简单的来说这个patent也就是将large order 拆分到不同交易所时, 让它们同时发出, 解决在多个交易所之间订单投递时间差而导致的被HFT侦测到而产生执行成本增高的问题. <br />文中有所提及. 传统的做法是(Fig.1 Prior Art)中用的, 人为用一根长度较长的尾纤来处理, 这种尾纤盘可以定制的, 可以在很小的一盘中盘出数十公里的纤来(当然再长就要amp放大了), 另一种做法是采用网络处理器人为的在QoS buffer中制造延迟, Linux也可以做, 例如TC可以模拟到数个微妙的延迟, 但TC抖动太大, 加了是灾难. <br />于是文艺复兴想了个办法, 那么好, 我在order的时候, 把需要执行的时间戳带在order报文上, 然后全部丢到colo上, 让colo的server同步好时间, 到时候一起发不行了么?<br />所以这个patent的目的就在于此, 原文中提到过原子钟一类的词, 但是被提问者或者新闻制造者无限制的放大了. <br />其实在很多交易所, colo机房主机投放订单进撮合服务器的抖动通常都会在数个us, 所以很多时候将精度提高到原子钟的程度就完全是扯淡了, 再说colo的服务器发送order出去的抖动通常也有数百个ns. <br />但是的确是需要同步执行, 这事怎么办呢? 其实通常的GPS clock就可以提供10Mpps精度的脉冲源, 精度够了. 可惜的是, 很多colo机房人家才不给你接GPS的天线呢... 几年前我也是在一栋楼的中间部位接了一根GPS天线到楼顶, 申请了好久.慢慢绕线到电梯井, 弱点井, 一点点拉上去...<br />那么同步时钟就有了另一种做法, NTP大家都熟悉, 它的误差在毫秒级或者更高, 而执行抖动在us级别, 所以需要提供更高精度的时钟. 通常这样的场景在一些时分传送系统中也要经常使用, 例如移动基站回传等业务, 刚好前些年一直在做这个, 通常的解决方法就是采用1588的方式, 也就是PTP, 自己拆分订单的服务器作为Ordinary Clock and Grand Master(也不一定,其实现成的也有产品叫TimeProvider 5000), 然后自己的机房好搞, 接个GPS就可以提供10Mpps的精准时钟, 也就是文中所说的10 ^-10的精度. 然后colo机房做boundary clock, 基本上精度可以到纳秒级, 但是随着链路质量 clock lock还是有些难的, 取决于时钟芯片. 一般时钟芯片是Zarlink的, Linux Kernel 也有PTP支持了. <br />技术上来看, 这是一个典型的移动基站回传已经解决的问题, 时序相位这些需要在基站传回移动核心网时同步, 这个场景大概5~6年前就有了..<br />我真不明白文艺复兴申请这专利干嘛....<br />不过最近正在做一些交易所建议, 准备把各个交易所的会员接入汇聚路由器的时钟和核心撮合服务器同步一下, 这样来杜绝抢单公平性了, 当然也有交易所完全就是等待数十个us, 将这个duration内的视为公平到达的, 等权执行的做法..<br />另外, 很多人忘了一个常识性的东西, 光在光纤中传输速度不是光速(在真空的速度, 而不是玻璃), 而且远远低于光速. 恩... 
</p>


</body></html>